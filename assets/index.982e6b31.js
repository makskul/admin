import{d as H,k as i,o as D,b as J,w as l,m as a,p as e,B,q as o,b0 as ee,K as d,b5 as le,A,a9 as G,I as R,Z as te,r as ae,c as L,F as K,a as Q,y as p,s as oe,aa as se,ad as re}from"./index.218d9c70.js";import{r as w,e as ne}from"./validators.37499f91.js";import{V as W}from"./VSpacer.04d581ea.js";import{V as y}from"./VBtn.500f4230.js";import{V as M,c as T}from"./VCard.c658538b.js";import{V as ie}from"./VForm.0b2b1a0d.js";import{V as j}from"./VRow.15b46b92.js";import{V as m}from"./VCol.d464f315.js";import{V as N}from"./VTextField.78ad04ff.js";import{V as k}from"./VSelect.fa004835.js";import{V as ue}from"./VNavigationDrawer.edb953aa.js";import{u as de}from"./useUserListStore.355959a6.js";import{a as ce}from"./formatters.289f6046.js";import{V as F}from"./VAvatar.6b594d0f.js";import{V as $}from"./VDivider.81b9b868.js";import{V as me}from"./VTable.aac9724b.js";import{V as pe}from"./VImg.b67ccdea.js";import{V as fe}from"./VChip.c10bae20.js";import{V as ve}from"./VMenu.33d50b56.js";import{V as Ve,a as Z}from"./VList.c838321a.js";import{V as be}from"./VPagination.7588bcbc.js";import"./index.f0101229.js";import"./createSimpleFunctional.c603bc67.js";import"./group.331a1268.js";import"./router.f373c6c7.js";import"./position.b9276cfd.js";import"./VCardActions.b00c2686.js";import"./VInput.72253e4c.js";import"./index.59f2c4af.js";import"./forwardRefs.c003b6b8.js";/* empty css                   */import"./VField.98d26802.js";import"./easing.36b781ab.js";import"./VCounter.3a750ab9.js";import"./dialog-transition.c52aaf29.js";import"./VCheckboxBtn.eddc661f.js";import"./VSelectionControl.70166856.js";import"./ssrBoot.3a9c79e2.js";import"./scopeId.669b12f4.js";import"./VOverlay.9f5216bd.js";import"./lazy.3b470ba8.js";const _e={class:"d-flex align-center pa-6 pb-1"},xe=a("h6",{class:"text-h6"}," Add User ",-1),ge=H({__name:"AddNewUserDrawer",props:{isDrawerOpen:{type:Boolean}},emits:["update:isDrawerOpen","userData"],setup(q,{emit:h}){const P=q,g=i(!1),f=i(),x=i(""),v=i(""),c=i(""),V=i(""),U=i(""),b=i(),S=i(),C=i(),I=()=>{h("update:isDrawerOpen",!1),G(()=>{var _,s;(_=f.value)==null||_.reset(),(s=f.value)==null||s.resetValidation()})},E=()=>{var _;(_=f.value)==null||_.validate().then(({valid:s})=>{s&&(h("userData",{id:0,fullName:x.value,company:c.value,role:b.value,country:V.value,contact:U.value,email:v.value,currentPlan:S.value,status:C.value,avatar:"",billing:"Auto Debit"}),h("update:isDrawerOpen",!1),G(()=>{var r,O;(r=f.value)==null||r.reset(),(O=f.value)==null||O.resetValidation()}))})},z=_=>{h("update:isDrawerOpen",_)};return(_,s)=>(D(),J(ue,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":P.isDrawerOpen,"onUpdate:modelValue":z},{default:l(()=>[a("div",_e,[xe,e(W),e(y,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:I},{default:l(()=>[e(B,{size:"18",icon:"tabler-x"})]),_:1})]),e(o(ee),{options:{wheelPropagation:!1}},{default:l(()=>[e(M,{flat:""},{default:l(()=>[e(T,null,{default:l(()=>[e(ie,{ref_key:"refForm",ref:f,modelValue:o(g),"onUpdate:modelValue":s[8]||(s[8]=r=>d(g)?g.value=r:null),onSubmit:le(E,["prevent"])},{default:l(()=>[e(j,null,{default:l(()=>[e(m,{cols:"12"},{default:l(()=>[e(N,{modelValue:o(x),"onUpdate:modelValue":s[0]||(s[0]=r=>d(x)?x.value=r:null),rules:[o(w)],label:"Full Name"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(N,{modelValue:o(v),"onUpdate:modelValue":s[1]||(s[1]=r=>d(v)?v.value=r:null),rules:[o(w),o(ne)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(N,{modelValue:o(c),"onUpdate:modelValue":s[2]||(s[2]=r=>d(c)?c.value=r:null),rules:[o(w)],label:"Company"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(N,{modelValue:o(V),"onUpdate:modelValue":s[3]||(s[3]=r=>d(V)?V.value=r:null),rules:[o(w)],label:"Country"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(N,{modelValue:o(U),"onUpdate:modelValue":s[4]||(s[4]=r=>d(U)?U.value=r:null),type:"number",rules:[o(w)],label:"Contact"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(k,{modelValue:o(b),"onUpdate:modelValue":s[5]||(s[5]=r=>d(b)?b.value=r:null),label:"Select Role",rules:[o(w)],items:["Admin","Author","Editor","Maintainer","Subscriber"]},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(k,{modelValue:o(S),"onUpdate:modelValue":s[6]||(s[6]=r=>d(S)?S.value=r:null),label:"Select Plan",rules:[o(w)],items:["Basic","Company","Enterprise","Team"]},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(k,{modelValue:o(C),"onUpdate:modelValue":s[7]||(s[7]=r=>d(C)?C.value=r:null),label:"Select Status",rules:[o(w)],items:[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Pending",value:"pending"}]},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(y,{type:"submit",class:"me-3"},{default:l(()=>[A(" Submit ")]),_:1}),e(y,{type:"reset",variant:"tonal",color:"secondary",onClick:I},{default:l(()=>[A(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),we={class:"d-flex align-center gap-2 my-1"},ye={class:"text-h6"},he={class:"me-3",style:{width:"80px"}},Ue={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Se={style:{width:"10rem"}},De=a("thead",null,[a("tr",null,[a("th",{scope:"col"}," USER "),a("th",{scope:"col"}," ROLE "),a("th",{scope:"col"}," PLAN "),a("th",{scope:"col"}," BILLING "),a("th",{scope:"col"}," STATUS "),a("th",{scope:"col"}," ACTIONS ")])],-1),ke={class:"d-flex align-center"},Pe={key:1},Ce={class:"d-flex flex-column"},Ne={class:"text-base"},Ae={class:"text-sm text-disabled"},ze={class:"text-capitalize text-base"},Le={class:"text-capitalize text-base font-weight-semibold"},Te={class:"text-base"},Ie={class:"text-center",style:{width:"5rem"}},Oe=a("tr",null,[a("td",{colspan:"7",class:"text-center"}," No data available ")],-1),Be=[Oe],Ee={class:"text-sm text-disabled"},Dl=H({__name:"index",setup(q){const h=de(),P=i(""),g=i(),f=i(),x=i(),v=i(10),c=i(1),V=i(1),U=i(0),b=i([]),S=()=>{h.fetchUsers({q:P.value,status:x.value,plan:f.value,role:g.value,perPage:v.value,currentPage:c.value}).then(n=>{b.value=n.data.users,V.value=n.data.totalPage,U.value=n.data.totalUsers}).catch(n=>{console.error(n)})};R(S),R(()=>{c.value>V.value&&(c.value=V.value)});const C=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],I=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],E=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],z=n=>n==="subscriber"?{color:"warning",icon:"tabler-user"}:n==="author"?{color:"success",icon:"tabler-circle-check"}:n==="maintainer"?{color:"primary",icon:"tabler-chart-pie-2"}:n==="editor"?{color:"info",icon:"tabler-pencil"}:n==="admin"?{color:"secondary",icon:"tabler-device-laptop"}:{color:"primary",icon:"tabler-user"},_=n=>n==="pending"?"warning":n==="active"?"success":n==="inactive"?"secondary":"primary",s=i(!1);R(()=>{c.value>V.value&&(c.value=V.value)});const r=te(()=>{const n=b.value.length?(c.value-1)*v.value+1:0,u=b.value.length+(c.value-1)*v.value;return`Showing ${n} to ${u} of ${U.value} entries`}),O=n=>{h.addUser(n),S()},X=[{icon:"tabler-user",color:"primary",title:"Session",stats:"21,459",percentage:29,subtitle:"Total Users"},{icon:"tabler-user-plus",color:"error",title:"Paid Users",stats:"4,567",percentage:18,subtitle:"Last week analytics"},{icon:"tabler-user-check",color:"success",title:"Active Users",stats:"19,860",percentage:-14,subtitle:"Last week analytics"},{icon:"tabler-user-exclamation",color:"warning",title:"Pending Users",stats:"237",percentage:42,subtitle:"Last week analytics"}];return(n,u)=>{const Y=ae("RouterLink");return D(),L("section",null,[e(j,null,{default:l(()=>[(D(),L(K,null,Q(X,t=>e(m,{key:t.title,cols:"12",sm:"6",lg:"3"},{default:l(()=>[e(M,null,{default:l(()=>[e(T,{class:"d-flex justify-space-between"},{default:l(()=>[a("div",null,[a("span",null,p(t.title),1),a("div",we,[a("h6",ye,p(t.stats),1),a("span",{class:oe(t.percentage>0?"text-success":"text-error")},"("+p(t.percentage)+"%)",3)]),a("span",null,p(t.subtitle),1)]),e(F,{rounded:"",variant:"tonal",color:t.color,icon:t.icon},null,8,["color","icon"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),64)),e(m,{cols:"12"},{default:l(()=>[e(M,{title:"Search Filter"},{default:l(()=>[e(T,null,{default:l(()=>[e(j,null,{default:l(()=>[e(m,{cols:"12",sm:"4"},{default:l(()=>[e(k,{modelValue:o(g),"onUpdate:modelValue":u[0]||(u[0]=t=>d(g)?g.value=t:null),label:"Select Role",items:C,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",sm:"4"},{default:l(()=>[e(k,{modelValue:o(f),"onUpdate:modelValue":u[1]||(u[1]=t=>d(f)?f.value=t:null),label:"Select Plan",items:I,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",sm:"4"},{default:l(()=>[e(k,{modelValue:o(x),"onUpdate:modelValue":u[2]||(u[2]=t=>d(x)?x.value=t:null),label:"Select Status",items:E,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e($),e(T,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[a("div",he,[e(k,{modelValue:o(v),"onUpdate:modelValue":u[3]||(u[3]=t=>d(v)?v.value=t:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),e(W),a("div",Ue,[a("div",Se,[e(N,{modelValue:o(P),"onUpdate:modelValue":u[4]||(u[4]=t=>d(P)?P.value=t:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),e(y,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:l(()=>[A(" Export ")]),_:1}),e(y,{"prepend-icon":"tabler-plus",onClick:u[5]||(u[5]=t=>s.value=!0)},{default:l(()=>[A(" Add New User ")]),_:1})])]),_:1}),e($),e(me,{class:"text-no-wrap"},{default:l(()=>[De,a("tbody",null,[(D(!0),L(K,null,Q(o(b),t=>(D(),L("tr",{key:t.id,style:{height:"3.75rem"}},[a("td",null,[a("div",ke,[e(F,{variant:"tonal",color:z(t.role).color,class:"me-3",size:"38"},{default:l(()=>[t.avatar?(D(),J(pe,{key:0,src:t.avatar},null,8,["src"])):(D(),L("span",Pe,p(o(ce)(t.fullName)),1))]),_:2},1032,["color"]),a("div",Ce,[a("h6",Ne,[e(Y,{to:{name:"apps-user-view-id",params:{id:t.id}},class:"font-weight-medium user-list-name"},{default:l(()=>[A(p(t.fullName),1)]),_:2},1032,["to"])]),a("span",Ae,"@"+p(t.email),1)])])]),a("td",null,[e(F,{color:z(t.role).color,icon:z(t.role).icon,variant:"tonal",size:"30",class:"me-4"},null,8,["color","icon"]),a("span",ze,p(t.role),1)]),a("td",null,[a("span",Le,p(t.currentPlan),1)]),a("td",null,[a("span",Te,p(t.billing),1)]),a("td",null,[e(fe,{label:"",color:_(t.status),size:"small",class:"text-capitalize"},{default:l(()=>[A(p(t.status),1)]),_:2},1032,["color"])]),a("td",Ie,[e(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[e(B,{size:"22",icon:"tabler-edit"})]),_:1}),e(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[e(B,{size:"22",icon:"tabler-trash"})]),_:1}),e(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[e(B,{size:"22",icon:"tabler-dots-vertical"}),e(ve,{activator:"parent"},{default:l(()=>[e(Ve,null,{default:l(()=>[e(Z,{title:"View",to:{name:"apps-user-view-id",params:{id:t.id}}},null,8,["to"]),e(Z,{title:"Suspend",href:"javascript:void(0)"})]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),se(a("tfoot",null,Be,512),[[re,!o(b).length]])]),_:1}),e($),e(T,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:l(()=>[a("span",Ee,p(o(r)),1),e(be,{modelValue:o(c),"onUpdate:modelValue":u[6]||(u[6]=t=>d(c)?c.value=t:null),size:"small","total-visible":5,length:o(V)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),e(ge,{isDrawerOpen:o(s),"onUpdate:isDrawerOpen":u[7]||(u[7]=t=>d(s)?s.value=t:null),onUserData:O},null,8,["isDrawerOpen"])])}}});export{Dl as default};
