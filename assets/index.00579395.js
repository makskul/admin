import{d as Y,k as i,o as D,b as K,w as l,m as a,p as e,A as I,q as o,a$ as ee,J as d,b4 as le,z,a8 as G,H as B,Y as te,r as ae,c as L,F as H,a as J,x as p,s as oe,a9 as se,ac as re}from"./index.f213f02a.js";import{r as w,e as ne}from"./validators.37499f91.js";import{V as W}from"./VSpacer.4cb36a24.js";import{V as y}from"./VBtn.e3a1b4a9.js";import{V as M,c as T}from"./VCard.0479d9ab.js";import{V as ie}from"./VForm.3d34e0bd.js";import{V as j}from"./VRow.56ed4074.js";import{V as m}from"./VCol.789f6d3b.js";import{V as N}from"./VTextField.f298a8a0.js";import{V as k}from"./VSelect.eb5b3167.js";import{V as ue}from"./VNavigationDrawer.1db8fc53.js";import{u as de}from"./useUserListStore.54462fef.js";import{a as ce}from"./formatters.289f6046.js";import{V as F}from"./VAvatar.607df399.js";import{V as $}from"./VDivider.52d9efbf.js";import{V as me}from"./VTable.a86437fc.js";import{V as pe}from"./VImg.fe4e9eac.js";import{V as fe}from"./VChip.b0494253.js";import{V as ve}from"./VMenu.74707630.js";import{V as Ve,a as Q}from"./VList.e592e6b3.js";import{V as be}from"./VPagination.dea90420.js";import"./index.f0101229.js";import"./createSimpleFunctional.d6243075.js";import"./router.8c7eb138.js";import"./position.b6cfc487.js";import"./VCardActions.bd21bfb5.js";import"./VInput.c6654052.js";import"./index.0c1a81ec.js";import"./forwardRefs.c003b6b8.js";/* empty css                   */import"./VField.15ad3d34.js";import"./easing.36b781ab.js";import"./VCounter.65c84b5d.js";import"./dialog-transition.883ec891.js";import"./VCheckboxBtn.48fe46c0.js";import"./VSelectionControl.af17e4b5.js";import"./ssrBoot.f12ed5a1.js";import"./scopeId.14a3e834.js";import"./VOverlay.c0203bda.js";import"./lazy.cac34b53.js";const _e={class:"d-flex align-center pa-6 pb-1"},xe=a("h6",{class:"text-h6"}," Add User ",-1),ge=Y({__name:"AddNewUserDrawer",props:{isDrawerOpen:{type:Boolean}},emits:["update:isDrawerOpen","userData"],setup(q,{emit:h}){const P=q,g=i(!1),f=i(),x=i(""),v=i(""),c=i(""),V=i(""),U=i(""),b=i(),S=i(),C=i(),O=()=>{h("update:isDrawerOpen",!1),G(()=>{var _,s;(_=f.value)==null||_.reset(),(s=f.value)==null||s.resetValidation()})},R=()=>{var _;(_=f.value)==null||_.validate().then(({valid:s})=>{s&&(h("userData",{id:0,fullName:x.value,company:c.value,role:b.value,country:V.value,contact:U.value,email:v.value,currentPlan:S.value,status:C.value,avatar:"",billing:"Auto Debit"}),h("update:isDrawerOpen",!1),G(()=>{var r,E;(r=f.value)==null||r.reset(),(E=f.value)==null||E.resetValidation()}))})},A=_=>{h("update:isDrawerOpen",_)};return(_,s)=>(D(),K(ue,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":P.isDrawerOpen,"onUpdate:modelValue":A},{default:l(()=>[a("div",_e,[xe,e(W),e(y,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:O},{default:l(()=>[e(I,{size:"18",icon:"tabler-x"})]),_:1})]),e(o(ee),{options:{wheelPropagation:!1}},{default:l(()=>[e(M,{flat:""},{default:l(()=>[e(T,null,{default:l(()=>[e(ie,{ref_key:"refForm",ref:f,modelValue:o(g),"onUpdate:modelValue":s[8]||(s[8]=r=>d(g)?g.value=r:null),onSubmit:le(R,["prevent"])},{default:l(()=>[e(j,null,{default:l(()=>[e(m,{cols:"12"},{default:l(()=>[e(N,{modelValue:o(x),"onUpdate:modelValue":s[0]||(s[0]=r=>d(x)?x.value=r:null),rules:[o(w)],label:"Full Name"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(N,{modelValue:o(v),"onUpdate:modelValue":s[1]||(s[1]=r=>d(v)?v.value=r:null),rules:[o(w),o(ne)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(N,{modelValue:o(c),"onUpdate:modelValue":s[2]||(s[2]=r=>d(c)?c.value=r:null),rules:[o(w)],label:"Company"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(N,{modelValue:o(V),"onUpdate:modelValue":s[3]||(s[3]=r=>d(V)?V.value=r:null),rules:[o(w)],label:"Country"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(N,{modelValue:o(U),"onUpdate:modelValue":s[4]||(s[4]=r=>d(U)?U.value=r:null),type:"number",rules:[o(w)],label:"Contact"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(k,{modelValue:o(b),"onUpdate:modelValue":s[5]||(s[5]=r=>d(b)?b.value=r:null),label:"Select Role",rules:[o(w)],items:["Admin","Author","Editor","Maintainer","Subscriber"]},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(k,{modelValue:o(S),"onUpdate:modelValue":s[6]||(s[6]=r=>d(S)?S.value=r:null),label:"Select Plan",rules:[o(w)],items:["Basic","Company","Enterprise","Team"]},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(k,{modelValue:o(C),"onUpdate:modelValue":s[7]||(s[7]=r=>d(C)?C.value=r:null),label:"Select Status",rules:[o(w)],items:[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Pending",value:"pending"}]},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(y,{type:"submit",class:"me-3"},{default:l(()=>[z(" Submit ")]),_:1}),e(y,{type:"reset",variant:"tonal",color:"secondary",onClick:O},{default:l(()=>[z(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),we={class:"d-flex align-center gap-2 my-1"},ye={class:"text-h6"},he={class:"me-3",style:{width:"80px"}},Ue={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Se={style:{width:"10rem"}},De=a("thead",null,[a("tr",null,[a("th",{scope:"col"}," USER "),a("th",{scope:"col"}," ROLE "),a("th",{scope:"col"}," PLAN "),a("th",{scope:"col"}," BILLING "),a("th",{scope:"col"}," STATUS "),a("th",{scope:"col"}," ACTIONS ")])],-1),ke={class:"d-flex align-center"},Pe={key:1},Ce={class:"d-flex flex-column"},Ne={class:"text-base"},ze={class:"text-sm text-disabled"},Ae={class:"text-capitalize text-base"},Le={class:"text-capitalize text-base font-weight-semibold"},Te={class:"text-base"},Oe={class:"text-center",style:{width:"5rem"}},Ee=a("tr",null,[a("td",{colspan:"7",class:"text-center"}," No data available ")],-1),Ie=[Ee],Re={class:"text-sm text-disabled"},Sl=Y({__name:"index",setup(q){const h=de(),P=i(""),g=i(),f=i(),x=i(),v=i(10),c=i(1),V=i(1),U=i(0),b=i([]),S=()=>{h.fetchUsers({q:P.value,status:x.value,plan:f.value,role:g.value,perPage:v.value,currentPage:c.value}).then(n=>{b.value=n.data.users,V.value=n.data.totalPage,U.value=n.data.totalUsers}).catch(n=>{console.error(n)})};B(S),B(()=>{c.value>V.value&&(c.value=V.value)});const C=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],O=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],R=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],A=n=>n==="subscriber"?{color:"warning",icon:"tabler-user"}:n==="author"?{color:"success",icon:"tabler-circle-check"}:n==="maintainer"?{color:"primary",icon:"tabler-chart-pie-2"}:n==="editor"?{color:"info",icon:"tabler-pencil"}:n==="admin"?{color:"secondary",icon:"tabler-device-laptop"}:{color:"primary",icon:"tabler-user"},_=n=>n==="pending"?"warning":n==="active"?"success":n==="inactive"?"secondary":"primary",s=i(!1);B(()=>{c.value>V.value&&(c.value=V.value)});const r=te(()=>{const n=b.value.length?(c.value-1)*v.value+1:0,u=b.value.length+(c.value-1)*v.value;return`Showing ${n} to ${u} of ${U.value} entries`}),E=n=>{h.addUser(n),S()},X=[{icon:"tabler-user",color:"primary",title:"Session",stats:"21,459",percentage:29,subtitle:"Total Users"},{icon:"tabler-user-plus",color:"error",title:"Paid Users",stats:"4,567",percentage:18,subtitle:"Last week analytics"},{icon:"tabler-user-check",color:"success",title:"Active Users",stats:"19,860",percentage:-14,subtitle:"Last week analytics"},{icon:"tabler-user-exclamation",color:"warning",title:"Pending Users",stats:"237",percentage:42,subtitle:"Last week analytics"}];return(n,u)=>{const Z=ae("RouterLink");return D(),L("section",null,[e(j,null,{default:l(()=>[(D(),L(H,null,J(X,t=>e(m,{key:t.title,cols:"12",sm:"6",lg:"3"},{default:l(()=>[e(M,null,{default:l(()=>[e(T,{class:"d-flex justify-space-between"},{default:l(()=>[a("div",null,[a("span",null,p(t.title),1),a("div",we,[a("h6",ye,p(t.stats),1),a("span",{class:oe(t.percentage>0?"text-success":"text-error")},"("+p(t.percentage)+"%)",3)]),a("span",null,p(t.subtitle),1)]),e(F,{rounded:"",variant:"tonal",color:t.color,icon:t.icon},null,8,["color","icon"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),64)),e(m,{cols:"12"},{default:l(()=>[e(M,{title:"Search Filter"},{default:l(()=>[e(T,null,{default:l(()=>[e(j,null,{default:l(()=>[e(m,{cols:"12",sm:"4"},{default:l(()=>[e(k,{modelValue:o(g),"onUpdate:modelValue":u[0]||(u[0]=t=>d(g)?g.value=t:null),label:"Select Role",items:C,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",sm:"4"},{default:l(()=>[e(k,{modelValue:o(f),"onUpdate:modelValue":u[1]||(u[1]=t=>d(f)?f.value=t:null),label:"Select Plan",items:O,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",sm:"4"},{default:l(()=>[e(k,{modelValue:o(x),"onUpdate:modelValue":u[2]||(u[2]=t=>d(x)?x.value=t:null),label:"Select Status",items:R,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e($),e(T,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[a("div",he,[e(k,{modelValue:o(v),"onUpdate:modelValue":u[3]||(u[3]=t=>d(v)?v.value=t:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),e(W),a("div",Ue,[a("div",Se,[e(N,{modelValue:o(P),"onUpdate:modelValue":u[4]||(u[4]=t=>d(P)?P.value=t:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),e(y,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:l(()=>[z(" Export ")]),_:1}),e(y,{"prepend-icon":"tabler-plus",onClick:u[5]||(u[5]=t=>s.value=!0)},{default:l(()=>[z(" Add New User ")]),_:1})])]),_:1}),e($),e(me,{class:"text-no-wrap"},{default:l(()=>[De,a("tbody",null,[(D(!0),L(H,null,J(o(b),t=>(D(),L("tr",{key:t.id,style:{height:"3.75rem"}},[a("td",null,[a("div",ke,[e(F,{variant:"tonal",color:A(t.role).color,class:"me-3",size:"38"},{default:l(()=>[t.avatar?(D(),K(pe,{key:0,src:t.avatar},null,8,["src"])):(D(),L("span",Pe,p(o(ce)(t.fullName)),1))]),_:2},1032,["color"]),a("div",Ce,[a("h6",Ne,[e(Z,{to:{name:"apps-user-view-id",params:{id:t.id}},class:"font-weight-medium user-list-name"},{default:l(()=>[z(p(t.fullName),1)]),_:2},1032,["to"])]),a("span",ze,"@"+p(t.email),1)])])]),a("td",null,[e(F,{color:A(t.role).color,icon:A(t.role).icon,variant:"tonal",size:"30",class:"me-4"},null,8,["color","icon"]),a("span",Ae,p(t.role),1)]),a("td",null,[a("span",Le,p(t.currentPlan),1)]),a("td",null,[a("span",Te,p(t.billing),1)]),a("td",null,[e(fe,{label:"",color:_(t.status),size:"small",class:"text-capitalize"},{default:l(()=>[z(p(t.status),1)]),_:2},1032,["color"])]),a("td",Oe,[e(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[e(I,{size:"22",icon:"tabler-edit"})]),_:1}),e(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[e(I,{size:"22",icon:"tabler-trash"})]),_:1}),e(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[e(I,{size:"22",icon:"tabler-dots-vertical"}),e(ve,{activator:"parent"},{default:l(()=>[e(Ve,null,{default:l(()=>[e(Q,{title:"View",to:{name:"apps-user-view-id",params:{id:t.id}}},null,8,["to"]),e(Q,{title:"Suspend",href:"javascript:void(0)"})]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),se(a("tfoot",null,Ie,512),[[re,!o(b).length]])]),_:1}),e($),e(T,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:l(()=>[a("span",Re,p(o(r)),1),e(be,{modelValue:o(c),"onUpdate:modelValue":u[6]||(u[6]=t=>d(c)?c.value=t:null),size:"small","total-visible":5,length:o(V)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),e(ge,{isDrawerOpen:o(s),"onUpdate:isDrawerOpen":u[7]||(u[7]=t=>d(s)?s.value=t:null),onUserData:E},null,8,["isDrawerOpen"])])}}});export{Sl as default};
