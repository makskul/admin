import{d as E,k as c,H as I,Y as F,r as q,o as f,b as z,w as l,p as a,m as t,q as n,J as V,z as p,c as g,F as H,a as J,x as r,C as k,A as d,a9 as M,ac as O}from"./index.add429ee.js";import{u as Q}from"./useInvoiceStore.27a6711c.js";import{a as Y}from"./formatters.289f6046.js";import{V as C}from"./VCardText.19d6276a.js";import{V as T}from"./VSelect.044983bc.js";import{V as x}from"./VBtn.b8c8f171.js";import{V as B}from"./VSpacer.24b293e4.js";import{V as j}from"./VTextField.f93ce827.js";import{V as L}from"./VDivider.641d8c00.js";import{V as G}from"./VTable.0d645c10.js";import{V as K}from"./VCheckbox.be7641de.js";import{V as W}from"./VTooltip.2e166bdf.js";import{V as N}from"./VAvatar.21a2953e.js";import{V as X}from"./VImg.a8aa58b5.js";import{V as Z}from"./VChip.34d510ea.js";import{V as tt}from"./VMenu.e23f6b18.js";import{V as et,a as w,b as y}from"./VList.69caa9c4.js";import{V as at}from"./VPagination.22cb2c69.js";import{V as lt}from"./VCard.6e70570c.js";import"./index.f0101229.js";import"./createSimpleFunctional.3c66e3e0.js";import"./forwardRefs.c003b6b8.js";import"./dialog-transition.bb266669.js";import"./easing.36b781ab.js";import"./VCheckboxBtn.6769e7ac.js";import"./VSelectionControl.e46a20e1.js";import"./router.ba3d0dbd.js";import"./VInput.b6d87e4b.js";import"./index.0c5b8599.js";import"./position.da7ae5de.js";/* empty css                   */import"./VField.4f8a4688.js";import"./VCounter.12688585.js";import"./scopeId.d05f90a4.js";import"./VOverlay.988bb41b.js";import"./lazy.12054de8.js";import"./VCardActions.ad08d8c9.js";const ot={class:"d-flex align-center",style:{width:"135px"}},st=t("span",{class:"text-no-wrap me-3"},"Show:",-1),rt={class:"me-3"},nt={class:"d-flex align-center flex-wrap gap-4"},it={class:"invoice-list-filter"},ct={class:"invoice-list-filter"},dt=t("thead",{class:"text-uppercase"},[t("tr",null,[t("th",{scope:"col"},"\xA0"),t("th",{scope:"col"}," #ID "),t("th",{scope:"col"}," Name "),t("th",{scope:"col"}," User "),t("th",{scope:"col"}," Status "),t("th",{scope:"col"}," Sponsor "),t("th",{scope:"col"}," Range "),t("th",{scope:"col"}," Rating "),t("th",{scope:"col"}," Views "),t("th",{scope:"col"}," Published date "),t("th",{scope:"col"}," ACTIONS ")])],-1),ut={class:"text-center"},pt={class:"mb-0"},mt={class:"mb-0"},ft={class:"mb-0"},vt={class:"d-flex align-center"},_t={key:1},ht={class:"d-flex flex-column"},Vt={class:"text-base font-weight-medium mb-0"},xt={class:"text-disabled text-sm"},bt={class:"text-center"},gt={class:"text-center"},wt={style:{width:"8rem"}},yt=t("tr",null,[t("td",{colspan:"8",class:"text-center text-body-1"}," No data available ")],-1),St=[yt],Pt={class:"text-sm text-disabled"},de=E({__name:"index",setup(Dt){const R=Q(),v=c(""),_=c(),u=c(10),i=c(1),h=c(1),S=c(0),m=c([]),P=c([]);I(()=>{R.fetchInvoices({q:v.value,status:_.value,perPage:u.value,currentPage:i.value}).then(o=>{m.value=o.data.invoices,h.value=o.data.totalPage,S.value=o.data.totalInvoices}).catch(o=>{console.log(o)})}),I(()=>{i.value>h.value&&(i.value=h.value)});const U=F(()=>{const o=m.value.length?(i.value-1)*u.value+1:0,s=m.value.length+(i.value-1)*u.value;return`Showing ${o} to ${s} of ${S.value} entries`}),D=(o,s)=>o===s?{status:"Unpaid",chip:{color:"error"}}:o===0?{status:"Paid",chip:{color:"success"}}:{status:o,chip:{variant:"text"}},b=o=>o==="Partial Payment"?{variant:"success",icon:"tabler-circle-half-2"}:o==="Paid"?{variant:"warning",icon:"tabler-chart-pie"}:o==="Downloaded"?{variant:"info",icon:"tabler-arrow-down-circle"}:o==="Draft"?{variant:"primary",icon:"tabler-device-floppy"}:o==="Sent"?{variant:"secondary",icon:"tabler-circle-check"}:o==="Past Due"?{variant:"error",icon:"tabler-alert-circle"}:{variant:"secondary",icon:"tabler-x"};return(o,s)=>{const $=q("RouterLink");return f(),z(lt,null,{default:l(()=>[a(C,{class:"d-flex align-center flex-wrap gap-4"},{default:l(()=>[t("div",ot,[st,a(T,{modelValue:n(u),"onUpdate:modelValue":s[0]||(s[0]=e=>V(u)?u.value=e:null),density:"compact",items:[10,20,30,50]},null,8,["modelValue"])]),t("div",rt,[a(x,{"prepend-icon":"tabler-plus",to:{name:"apps-invoice-add"}},{default:l(()=>[p(" Create invoice ")]),_:1})]),a(B),t("div",nt,[t("div",it,[a(j,{modelValue:n(v),"onUpdate:modelValue":s[1]||(s[1]=e=>V(v)?v.value=e:null),placeholder:"Search Invoice",density:"compact"},null,8,["modelValue"])]),t("div",ct,[a(T,{modelValue:n(_),"onUpdate:modelValue":s[2]||(s[2]=e=>V(_)?_.value=e:null),label:"Select Status",clearable:"","clear-icon":"tabler-x","single-line":"",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])])])]),_:1}),a(L),a(G,{class:"text-no-wrap invoice-list-table"},{default:l(()=>[dt,t("tbody",null,[(f(!0),g(H,null,J(n(m),e=>(f(),g("tr",{key:e.id,style:{height:"3.75rem"}},[t("td",null,[a(K,{value:e.id},null,8,["value"])]),t("td",null,[a($,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:l(()=>[p(" #"+r(e.id),1)]),_:2},1032,["to"])]),t("td",ut,[a(W,null,{activator:l(({props:A})=>[a(N,k({size:30},A,{color:b(e.invoiceStatus).variant,variant:"tonal"}),{default:l(()=>[a(d,{size:20,icon:b(e.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:l(()=>[t("p",pt,r(e.invoiceStatus),1),t("p",mt," Balance: "+r(e.balance),1),t("p",ft," Due date: "+r(e.dueDate),1)]),_:2},1024)]),t("td",null,[t("div",vt,[a(N,{size:"34",color:b(e.invoiceStatus).variant,variant:"tonal",class:"me-3"},{default:l(()=>[e.avatar.length?(f(),z(X,{key:0,src:e.avatar},null,8,["src"])):(f(),g("span",_t,r(n(Y)(e.client.name)),1))]),_:2},1032,["color"]),t("div",ht,[t("h6",Vt,r(e.client.name),1),t("span",xt,r(e.client.companyEmail),1)])])]),t("td",bt," $"+r(e.total),1),t("td",null,r(e.issuedDate),1),t("td",null,r(e.issuedDate),1),t("td",null,r(e.issuedDate),1),t("td",null,r(e.issuedDate),1),t("td",gt,[a(Z,k({label:""},D(e.balance,e.total).chip,{size:"small"}),{default:l(()=>[p(r(D(e.balance,e.total).status),1)]),_:2},1040)]),t("td",wt,[a(x,{icon:"",variant:"text",color:"default",size:"x-small"},{default:l(()=>[a(d,{icon:"tabler-mail",size:22})]),_:1}),a(x,{icon:"",variant:"text",color:"default",size:"x-small",to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:l(()=>[a(d,{size:22,icon:"tabler-eye"})]),_:2},1032,["to"]),a(x,{icon:"",variant:"text",color:"default",size:"x-small"},{default:l(()=>[a(d,{size:22,icon:"tabler-dots-vertical"}),a(tt,{activator:"parent"},{default:l(()=>[a(et,null,{default:l(()=>[a(w,{value:"download"},{prepend:l(()=>[a(d,{size:"24",class:"me-3",icon:"tabler-download"})]),default:l(()=>[a(y,null,{default:l(()=>[p("Download")]),_:1})]),_:1}),a(w,{to:{name:"apps-invoice-edit-id",params:{id:e.id}}},{prepend:l(()=>[a(d,{size:"24",class:"me-3",icon:"tabler-pencil"})]),default:l(()=>[a(y,null,{default:l(()=>[p("Edit")]),_:1})]),_:2},1032,["to"]),a(w,{value:"duplicate"},{prepend:l(()=>[a(d,{size:"24",class:"me-3",icon:"tabler-stack"})]),default:l(()=>[a(y,null,{default:l(()=>[p("Duplicate")]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),M(t("tfoot",null,St,512),[[O,!n(m).length]])]),_:1}),a(L),a(C,{class:"d-flex align-center flex-wrap gap-4 py-3"},{default:l(()=>[t("span",Pt,r(n(U)),1),a(B),a(at,{modelValue:n(i),"onUpdate:modelValue":s[3]||(s[3]=e=>V(i)?i.value=e:null),size:"small","total-visible":5,length:n(h),onNext:s[4]||(s[4]=e=>P.value=[]),onPrev:s[5]||(s[5]=e=>P.value=[])},null,8,["modelValue","length"])]),_:1})]),_:1})}}});export{de as default};
