import{d as F,k as c,H as k,a1 as q,r as H,q as r,o as f,b as C,w as l,p as a,m as e,J as V,z as m,c as w,F as J,a as M,x as n,C as B,A as d,a6 as O,a9 as Q,B as j}from"./index.467cdc2d.js";import{u as G}from"./useInvoiceStore.d2e54c6e.js";import{a as K}from"./formatters.289f6046.js";import{c as N,V as W}from"./VCard.2d292526.js";import{V as T}from"./VSelect.682a64c9.js";import{V as x}from"./VBtn.dc3cd726.js";import{V as L}from"./VSpacer.d2e356ae.js";import{V as X}from"./VTextField.8ae34592.js";import{V as U}from"./VDivider.12130cb7.js";import{V as Y}from"./VTable.d0a0475a.js";import{V as Z}from"./VCheckbox.3f985f33.js";import{V as ee}from"./VTooltip.8187b7bb.js";import{V as R}from"./VAvatar.9a7149b7.js";import{V as te}from"./VImg.657a0470.js";import{V as ae}from"./VChip.78a28383.js";import{V as le}from"./VMenu.456d8490.js";import{V as oe,a as y,b as S}from"./VList.20a7602a.js";import{V as se}from"./VPagination.b3f07319.js";import"./index.f0101229.js";import"./router.d66206d8.js";import"./position.363b5921.js";import"./forwardRefs.c003b6b8.js";import"./dialog-transition.cc283102.js";import"./easing.36b781ab.js";import"./VCheckboxBtn.1086bd16.js";import"./VSelectionControl.c5e888e0.js";import"./VInput.d7ae850d.js";import"./index.824c457d.js";/* empty css                   */import"./VField.db7c540b.js";import"./VCounter.c9ee3103.js";import"./scopeId.da3fc4ec.js";import"./VOverlay.7737ea4d.js";import"./lazy.90b899a9.js";const ne={class:"d-flex align-center",style:{width:"135px"}},re=e("span",{class:"text-no-wrap me-3"},"Show:",-1),ie={class:"me-3"},ce={class:"d-flex align-center flex-wrap gap-4"},de={class:"invoice-list-filter"},ue={class:"invoice-list-filter"},pe=e("thead",{class:"text-uppercase"},[e("tr",null,[e("th",{scope:"col"},"\xA0"),e("th",{scope:"col"}," #ID "),e("th",{scope:"col"}," Name "),e("th",{scope:"col"}," User "),e("th",{scope:"col"}," Status "),e("th",{scope:"col"}," Sponsor "),e("th",{scope:"col"}," Range "),e("th",{scope:"col"}," Rating "),e("th",{scope:"col"}," Views "),e("th",{scope:"col"}," Published date "),e("th",{scope:"col"}," ACTIONS ")])],-1),me={class:"text-center"},fe={class:"mb-0"},ve={class:"mb-0"},_e={class:"mb-0"},he={class:"d-flex align-center"},Ve={key:1},xe={class:"d-flex flex-column"},be={class:"text-base font-weight-medium mb-0"},ge={class:"text-disabled text-sm"},we={class:"text-center"},ye={class:"text-center"},Se={style:{width:"8rem"}},Pe=e("tr",null,[e("td",{colspan:"8",class:"text-center text-body-1"}," No data available ")],-1),De=[Pe],Ie={class:"text-sm text-disabled"},ct=F({__name:"index",setup(ze){const $=G(),v=c(""),_=c(),u=c(10),i=c(1),h=c(1),P=c(0),p=c([]),D=c([]),I=[];k(()=>{$.fetchInvoices({q:v.value,status:_.value,perPage:u.value,currentPage:i.value}).then(o=>{p.value=o.data.invoices,h.value=o.data.totalPage,P.value=o.data.totalInvoices}).catch(o=>{console.log(o)})}),k(()=>{i.value>h.value&&(i.value=h.value)});const A=q(()=>{const o=p.value.length?(i.value-1)*u.value+1:0,s=p.value.length+(i.value-1)*u.value;return`Showing ${o} to ${s} of ${P.value} entries`}),z=(o,s)=>o===s?{status:"Unpaid",chip:{color:"error"}}:o===0?{status:"Paid",chip:{color:"success"}}:{status:o,chip:{variant:"text"}},b=o=>o==="Partial Payment"?{variant:"success",icon:"tabler-circle-half-2"}:o==="Paid"?{variant:"warning",icon:"tabler-chart-pie"}:o==="Downloaded"?{variant:"info",icon:"tabler-arrow-down-circle"}:o==="Draft"?{variant:"primary",icon:"tabler-device-floppy"}:o==="Sent"?{variant:"secondary",icon:"tabler-circle-check"}:o==="Past Due"?{variant:"error",icon:"tabler-alert-circle"}:{variant:"secondary",icon:"tabler-x"};return(o,s)=>{const E=H("RouterLink");return r(p)?(f(),C(W,{key:0,id:"invoice-list"},{default:l(()=>[a(N,{class:"d-flex align-center flex-wrap gap-4"},{default:l(()=>[e("div",ne,[re,a(T,{modelValue:r(u),"onUpdate:modelValue":s[0]||(s[0]=t=>V(u)?u.value=t:null),density:"compact",items:[10,20,30,50]},null,8,["modelValue"])]),e("div",ie,[a(x,{"prepend-icon":"tabler-plus",to:{name:"apps-invoice-add"}},{default:l(()=>[m(" Create invoice ")]),_:1})]),a(L),e("div",ce,[e("div",de,[a(X,{modelValue:r(v),"onUpdate:modelValue":s[1]||(s[1]=t=>V(v)?v.value=t:null),placeholder:"Search Invoice",density:"compact"},null,8,["modelValue"])]),e("div",ue,[a(T,{modelValue:r(_),"onUpdate:modelValue":s[2]||(s[2]=t=>V(_)?_.value=t:null),label:"Select Status",clearable:"","clear-icon":"tabler-x","single-line":"",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])])])]),_:1}),a(U),a(Y,{class:"text-no-wrap invoice-list-table"},{default:l(()=>[pe,e("tbody",null,[(f(!0),w(J,null,M(r(p),t=>(f(),w("tr",{key:t.id,style:{height:"3.75rem"}},[e("td",null,[a(Z,{modelValue:I,"onUpdate:modelValue":s[3]||(s[3]=g=>I=g),value:t.id,label:t.id},null,8,["value","label"])]),e("td",null,[a(E,{to:{name:"apps-invoice-preview-id",params:{id:t.id}}},{default:l(()=>[m(" #"+n(t.id),1)]),_:2},1032,["to"])]),e("td",me,[a(ee,null,{activator:l(({props:g})=>[a(R,B({size:30},g,{color:b(t.invoiceStatus).variant,variant:"tonal"}),{default:l(()=>[a(d,{size:20,icon:b(t.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:l(()=>[e("p",fe,n(t.invoiceStatus),1),e("p",ve," Balance: "+n(t.balance),1),e("p",_e," Due date: "+n(t.dueDate),1)]),_:2},1024)]),e("td",null,[e("div",he,[a(R,{size:"34",color:b(t.invoiceStatus).variant,variant:"tonal",class:"me-3"},{default:l(()=>[t.avatar.length?(f(),C(te,{key:0,src:t.avatar},null,8,["src"])):(f(),w("span",Ve,n(r(K)(t.client.name)),1))]),_:2},1032,["color"]),e("div",xe,[e("h6",be,n(t.client.name),1),e("span",ge,n(t.client.companyEmail),1)])])]),e("td",we," $"+n(t.total),1),e("td",null,n(t.issuedDate),1),e("td",null,n(t.issuedDate),1),e("td",null,n(t.issuedDate),1),e("td",null,n(t.issuedDate),1),e("td",ye,[a(ae,B({label:""},z(t.balance,t.total).chip,{size:"small"}),{default:l(()=>[m(n(z(t.balance,t.total).status),1)]),_:2},1040)]),e("td",Se,[a(x,{icon:"",variant:"text",color:"default",size:"x-small"},{default:l(()=>[a(d,{icon:"tabler-mail",size:22})]),_:1}),a(x,{icon:"",variant:"text",color:"default",size:"x-small",to:{name:"apps-invoice-preview-id",params:{id:t.id}}},{default:l(()=>[a(d,{size:22,icon:"tabler-eye"})]),_:2},1032,["to"]),a(x,{icon:"",variant:"text",color:"default",size:"x-small"},{default:l(()=>[a(d,{size:22,icon:"tabler-dots-vertical"}),a(le,{activator:"parent"},{default:l(()=>[a(oe,null,{default:l(()=>[a(y,{value:"download"},{prepend:l(()=>[a(d,{size:"24",class:"me-3",icon:"tabler-download"})]),default:l(()=>[a(S,null,{default:l(()=>[m("Download")]),_:1})]),_:1}),a(y,{to:{name:"apps-invoice-edit-id",params:{id:t.id}}},{prepend:l(()=>[a(d,{size:"24",class:"me-3",icon:"tabler-pencil"})]),default:l(()=>[a(S,null,{default:l(()=>[m("Edit")]),_:1})]),_:2},1032,["to"]),a(y,{value:"duplicate"},{prepend:l(()=>[a(d,{size:"24",class:"me-3",icon:"tabler-stack"})]),default:l(()=>[a(S,null,{default:l(()=>[m("Duplicate")]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),O(e("tfoot",null,De,512),[[Q,!r(p).length]])]),_:1}),a(U),a(N,{class:"d-flex align-center flex-wrap gap-4 py-3"},{default:l(()=>[e("span",Ie,n(r(A)),1),a(L),a(se,{modelValue:r(i),"onUpdate:modelValue":s[4]||(s[4]=t=>V(i)?i.value=t:null),size:"small","total-visible":5,length:r(h),onNext:s[5]||(s[5]=t=>D.value=[]),onPrev:s[6]||(s[6]=t=>D.value=[])},null,8,["modelValue","length"])]),_:1})]),_:1})):j("",!0)}}});export{ct as default};
